<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--=============== REMIXICONS ===============-->
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />

    <!--=============== CSS ===============-->
    <link rel="stylesheet" href="../assets/css/styles.css" />

    <title>Đăng nhập</title>
  </head>
  <body>
    <div class="login">
      <img
        src="../assets/images/login-bg.png"
        alt="login image"
        class="login__img"
      />

      <form action="" class="login__form" id="loginForm">
        <h1 class="login__title">Đăng nhập</h1>

        <div class="login__content">
          <div class="login__box">
            <i class="ri-user-3-line login__icon"></i>

            <div class="login__box-input">
              <input
                required
                class="login__input"
                id="login-email"
                placeholder=" "
              />
              <label for="login-email" class="login__label">Tài khoản</label>
            </div>
          </div>

          <div class="login__box">
            <i class="ri-lock-2-line login__icon"></i>

            <div class="login__box-input">
              <input
                type="password"
                required
                class="login__input"
                id="login-pass"
                placeholder=" "
              />
              <label for="login-pass" class="login__label">Mật khẩu</label>
              <i class="ri-eye-off-line login__eye" id="login-eye"></i>
            </div>
          </div>
        </div>

        <div class="login__check">
          <div class="login__check-group">
            <input
              type="checkbox"
              class="login__check-input"
              id="login-check"
            />
            <label for="login-check" class="login__check-label"
              >Ghi nhớ mật khẩu</label
            >
          </div>

          <a href="#" class="login__forgot">Quên mật khẩu?</a>
        </div>

        <button type="submit" class="login__button">Đăng nhập</button>

        <p class="login__register">
          Chưa có tài khoản? <a href="#">Đăng ký</a>
        </p>
      </form>
    </div>

    <!--=============== Sử dụng: tk: admin, mk: password ===============-->
    <script>
      // Ensure DOM is fully loaded
      document.addEventListener('DOMContentLoaded', function () {
        /*=============== SHOW HIDDEN - PASSWORD ===============*/
        const showHiddenPass = (loginPass, loginEye) => {
          const input = document.getElementById(loginPass),
            iconEye = document.getElementById(loginEye);

          iconEye.addEventListener('click', () => {
            // Debugging
            console.log('Icon clicked');

            // Change password to text
            if (input.type === 'password') {
              // Switch to text
              input.type = 'text';

              // Icon change
              iconEye.classList.add('ri-eye-line');
              iconEye.classList.remove('ri-eye-off-line');
            } else {
              // Change to password
              input.type = 'password';

              // Icon change
              iconEye.classList.remove('ri-eye-line');
              iconEye.classList.add('ri-eye-off-line');
            }
          });
        };

        // Call the function with the specific IDs
        showHiddenPass('login-pass', 'login-eye');
      });
    </script>

    <script>
      document
        .getElementById('loginForm')
        .addEventListener('submit', function (event) {
          event.preventDefault(); // Prevent the form from submitting through the HTTP POST method

          var username = document.getElementById('login-email').value;
          var password = document.getElementById('login-pass').value;

          if (username === 'admin' && password === 'password') {
            // Optionally, set a flag in localStorage to indicate logged-in status
            // localStorage.setItem('isLoggedIn', 'true');

            alert('Đã đăng nhập thành công');
            window.location.href = './homePage.html'; // Adjust the path as necessary
          } else {
            alert('Tên đăng nhập hoặc mật khẩu không đúng. Vui lòng thử lại.');
          }
        });
    </script>
  </body>
</html>
